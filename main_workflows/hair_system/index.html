<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Hair System - Hair Tool 4</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Hair System";
        var mkdocs_page_input_path = "main_workflows/hair_system.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Hair Tool 4
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../overview/">Overview</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Main Concepts</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Hair System</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sub-systems-types">Sub-Systems Types</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#strands-generator">Strands Generator</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#strands-distribution">Strands Distribution</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#relax-distribution">Relax Distribution</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#strands-filter">Strands Filter</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#strands-from-grid-surface">Strands From Grid Surface</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#interpolated-strands">Interpolated Strands</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#strands-from-prism-mesh-guide">Strands from Prism Mesh Guide</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#strands-on-mesh-parts">Strands on Mesh Parts</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#strands-on-mesh-border">Strands on Mesh Border</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#transfer-hair-system">Transfer Hair System</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#general-operations">General Operations</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#child-parent-setup">Child - Parent setup</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hair-interpolation">Hair Interpolation</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#align-to-surface-normal">Align to Surface Normal</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#use-mesh-islands-splits">Use mesh Islands Splits</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#fixing-interpolation-1">Fixing Interpolation (1)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#fixing-interpolation-2">Fixing Interpolation (2)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hair-sub-system-menu">Hair sub-System menu</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#bake">Bake</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#update-node-pack">Update Node Pack</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#copypaste-hair-system">Copy/Paste Hair System</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#switch-hair-system-type">Switch Hair System Type</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tags">Tags</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#tags-panel">Tags Panel</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#updating">Updating</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#limitations">Limitations</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#faq">FAQ</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#i-get-errors-in-console">I get Errors in console</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#hair-interpolation-wont-work">Hair Interpolation won't work</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../hair_deformers/">Hair Deformers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../input_masks/">Input Masks</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hair_profiles/">Hair Profiles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../uv_material/">Material and UV</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../presets/">Presets</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Modeling Methods</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../basic_examples/">Basic Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../hair_from_surface/">Curves from Grid Surface</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../strands_from_profile/">Strands From Profile</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../hair_with_track_mesh/">Hair with Track Mesh</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../hair_drawing/">Drawing hair</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../short_hair/">Short Hair</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../shell_hair/">Shell Hair</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tools</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../convert_hair/">Convert Hair</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hair_modeling/">Hair Modeling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hair_sculpting/">Hair Sculpting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../curve_tool/">Curve tools</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../mesh_ribbons_ops/">Mesh tools</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Baking Textures</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../texture_baking/">Baking Textures</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../hair_library/">Hair Library</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../hair_animation/">Rigging and Animation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../character_creator_workflow/">Character Creator</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../faq/">FAQ</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Hair Tool 4</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Main Concepts</li>
      <li class="breadcrumb-item active">Hair System</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="hair-system">Hair System<a class="headerlink" href="#hair-system" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p><img alt="Hair System Diagram" src="../../img/hsystem_diagram.jpeg" />
<em>Three main building-blocks of hair in Hair Tool: Setup, Hair (sub)Systems, Profile</em></p>
<p>In Hair Tool there is concept of: <strong>Hair System - it is Blender geometry-nodes based modifier where hair strands are generated and modified</strong>. Modifications are done by adding sub-nodes (here called <a href="../hair_deformers/">Deformers</a>) to these modifiers (Hair Systems).</p>
<p>Hair-cards, in Hair Tool, are build from three basic modifiers (some are optional):</p>
<ul>
<li><a href="../../overview/#setup-section">Setup</a> modifier that connects: guide curve and source mesh</li>
<li><a href="./#sub-systems-types">Hair Systems</a> These are like the building blocks of the hair. They use generators to create strands and <a href="../hair_deformers/">deformers</a> to shape them,</li>
<li><a href="../../hair_profiles/">Hair Profile</a> modifier where geometry, UVs, and materials are attached to strands,</li>
</ul>
<p><strong>Multiple Hair (sub)Systems, can be connected together using labels</strong> called <a href="#tags"><strong>Tags</strong></a>. This helps to set <a href="#child-parent-setup">child-parent</a> like relation, which is needed, for: hair interpolation, clumping and other effects.</p>
<p><strong>Hair System panel is located in Right Sidebar &gt; Hair Tool Tab &gt; Hair System Panel</strong>.<br>
Click [+] to add Hair System to selected mesh (or curve) object.</p>
<p><img alt="Hair System UI" src="../../img/geo_nodes_hair/hair_system_nodal.jpg" />
 <em>Example of two Hair Systems setup: <code>Parent</code> and <code>Child</code>. <code>Child</code> System is made from: Strand Generator, Noise, Clump, Set Radius etc. deformers. <code>Parent</code> system is guided by: HairCurve guide (second input at very top)</em></p>
<hr />
<h3 id="sub-systems-types">Sub-Systems Types<a class="headerlink" href="#sub-systems-types" title="Permanent link">&para;</a></h3>
<p>After adding a hair (sub)system, the first slot in the deformers stack is automatically added, with its type determined by the selected hair sub-system type.</p>
<h4 id="strands-generator">Strands Generator<a class="headerlink" href="#strands-generator" title="Permanent link">&para;</a></h4>
<p>It will grow strands, from Base Mesh surface. You can control parameters like: resolution, density, length, interpolation (<a href="./#child-parent-setup">Parent Child relation must be set</a>) etc. These strands are affected by all subsequent deformers in <strong>current</strong> system stack</p>
<video style="width:100%" controls>
  <source src="../../img/geo_nodes_hair/strands_gen.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>Set parent <a href="#tags">Tags</a> and enable <a href="./#hair-interpolation">interplation</a> option, so that generated strands will follow these Tagged strands. See <a href="./#child-parent-setup"><strong>Child Parent Setup</strong></a></em></p>
<h5 id="strands-distribution">Strands Distribution<a class="headerlink" href="#strands-distribution" title="Permanent link">&para;</a></h5>
<p>Poisson distribution is a better way to spread things out evenly than just randomly placing them.</p>
<p><strong>Here's why:</strong></p>
<p>Imagine you're trying to place hair strands on a surface.</p>
<ul>
<li>
<p><strong>Random placement:</strong> You might end up with clumps of hair in some areas and gaps in others.</p>
</li>
<li>
<p><strong>Poisson distribution:</strong> This method makes sure the hair is spread out more evenly. It does this by removing any hair strands that are too close together.</p>
</li>
</ul>
<p><img alt="Random vs Poisson" src="../../img/geo_nodes_hair/poisson_vs_random.jpg" />
<em><b>Left</b>: notice the clumping of hair roots;<br>
<b>Center</b>: Poisson distribution fixes clumps issue, by removing roots (marked in black) that are closer than <code>Min Distance</code> parameter.<br>
<b>Right</b>: Increase <code>Density</code> parameter to fill up the empty spots</em></p>
<h5 id="relax-distribution">Relax Distribution<a class="headerlink" href="#relax-distribution" title="Permanent link">&para;</a></h5>
<video style="width:100%" controls>
  <source src="../../video/strand_gen_relax.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>Relax option - useful when you masked Density input - e.g. with vertex group (masking Density results in non uniform strands distribution)</em></p>
<h4 id="strands-filter">Strands Filter<a class="headerlink" href="#strands-filter" title="Permanent link">&para;</a></h4>
<p>Imagine you want to modify multiple Hair Systems, by adding <a href="../hair_deformers/#radius-set">Set Radius</a> or <a href="../hair_deformers/#align-tilt">Align Tilt</a>. Instead of adding these deformers to each individual Hair subSystem, one by one, you can <strong>utilize the Filter System to affect all previously generated strands simultaneously</strong>.
All type of strands can be modified:</p>
<ul>
<li>'real' strands (for example generated with <a href="../hair_drawing/">Hair Drawing</a>),</li>
<li>or generated procedurally by another Hair subSystem e.g. <a href="./#strands-generator">Strands Generator</a>.</li>
</ul>
<blockquote>
<p><strong>Note</strong>: If no filter tag is specified, then all strands will be affected. Otherwise only strands with specified tag will be affected.</p>
</blockquote>
<video style="width:100%" controls>
<source src="../../img/geo_nodes_hair/strands_filter.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>Demo of applying 'Scale' deformer to strands generated with <code>Right</code> and 'Left' Hair Systems. When no filter Tag is set, then all strands are scaled</em></p>
<h4 id="strands-from-grid-surface">Strands From Grid Surface<a class="headerlink" href="#strands-from-grid-surface" title="Permanent link">&para;</a></h4>
<p>This type of Strand Generator, will guide strands using guide mesh (grid mesh, made of quads only).
Root of strands will be placed:</p>
<ul>
<li>on edge loop marked as Sharp (Ctrl+E -&gt; Mark Sharp)</li>
<li>or on crease edge (Shift+E -&gt; Crease Edge).</li>
</ul>
<p>These strands can be affected by all subsequent deformers in <strong>current</strong> system stack</p>
<video style="width:100%" controls>
<source src="../../img/geo_nodes_hair/hsystem_curves_from_grid.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>In video above - top, boundary edge loop was <code>marked as sharp</code></em></p>
<blockquote>
<p><strong>Note</strong>: Notice how guide grid, in video above, has uneven topology - getting dense to the right. This is important when adjusting 'Uniform Spacing' option</p>
<p><strong>Note</strong>: To mask-out placement of roots, just plugin in vertex group mask into 'Placement Mask' input</p>
</blockquote>
<p>Examples of <strong>proper grid guide topology</strong>:
<img alt="Bad Grid Mesh" src="../../img/faq/good_grid_meshes.jpg" />
<em>Check out the <a href="../../faq/#error-when-using-curves-from-grid-surface">FAQ</a> to see examples of wrong mesh topology</em></p>
<h4 id="interpolated-strands">Interpolated Strands<a class="headerlink" href="#interpolated-strands" title="Permanent link">&para;</a></h4>
<p>This Strand Generator, will use existing curves add extra strands in between them. In that case order of strand matter!</p>
<video style="width:100%" controls>
<source src="../../img/geo_nodes_hair/interpolated_strands.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>In video above I used drawn strands to guide the 'Interpolated Strands' generator (video is narrated)</em></p>
<blockquote>
<p><strong>Note</strong>: If order of your strands is wrong, and <strong>Automatic Spline Sorting</strong> option fails, you can use <strong>Sort Strands by Stroke</strong> operator to manually fix the order (see video above)</p>
</blockquote>
<h4 id="strands-from-prism-mesh-guide">Strands from Prism Mesh Guide<a class="headerlink" href="#strands-from-prism-mesh-guide" title="Permanent link">&para;</a></h4>
<p>It will allow you to generate strands on base mesh along 'walls' of prism like mesh. Bottom face has to be separated from 'wall' using  sharp edge (see video below)</p>
<video style="width:100%" controls>
<source src="../../video/strands_from_prism_mesh_guide.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>In this example I had marked sharp edges to create face groups/islands (no edge split modifier was used though). Then I extruded these edges, to create valid mesh for 'Strands from Prism Mesh Guide' generator</em></p>
<blockquote>
<p><strong>Note1</strong>: Extruding faces, in the way that was done in video above, creates non-manifold mesh, and the resulting prism 'Wall' faces normal's will be messed up (some face out, some in). You can unify them using: Ctrl+N &gt; Recalculate Normal's operator.</p>
<p><strong>Note2</strong>: You can use Ctrl+Shift+H &gt; <code>Strands from Prism Mesh</code> operator to: create new (separated) hair object and switch your base mesh display mode to 'WIRE' automatically. This will help you to see both hair-cards and base (prism guide) mesh at the same time.</p>
</blockquote>
<h4 id="strands-on-mesh-parts">Strands on Mesh Parts<a class="headerlink" href="#strands-on-mesh-parts" title="Permanent link">&para;</a></h4>
<p>It will allow you to generate strands on base mesh: vertices, edges and (or) faces.</p>
<video style="width:100%" controls>
<source src="../../video/strands_on_mesh_parts.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>When used on edges it looks similar to <a href="../short_hair/">Short Hair</a>. Especially if you combine it with <a href="../hair_deformers/#track-to-mesh">Track to Mesh</a> deformer</em></p>
<h4 id="strands-on-mesh-border">Strands on Mesh Border<a class="headerlink" href="#strands-on-mesh-border" title="Permanent link">&para;</a></h4>
<p>It will allow you to generate strands on base mesh border edges (or on custom edge attribute)</p>
<video style="width:100%" controls>
<source src="../../video/gen_strands_on_mesh_border.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>In video above we combine this strand generator with <a href="../hair_deformers/#track-to-curve">Track To Curve</a> deformer. Scalp mesh is using Mirror modifier - that is why the strands are also spawned on center line</em></p>
<p><strong>Border Offset</strong> move strands away from the border edge. You can randomize it to get more natural hairline look<br>
<strong>Trim Ends</strong> - use to prevent strands spawning on the border edges endings - see 'Split Corner Angle' parameter below<br>
<strong>Split Corner Angle</strong> - scalp from video above has some sharp corners. This parameter will help to split these corners into two edges, so that you can trim them with 'Trim Ends' parameter.<br>
<strong>UVs</strong> - Strands on Mesh Border generator <strong>requires non-overlapping UV's on your base mesh, to function properly</strong>.</p>
<hr />
<h3 id="transfer-hair-system">Transfer Hair System<a class="headerlink" href="#transfer-hair-system" title="Permanent link">&para;</a></h3>
<p>Hair System can be assigned to Mesh or Curve Hair object, depending on which object is selected when you add Hair System. If you want to <strong>change Hair System 'owner'</strong> you can use Transfer Hair System operator.
<img alt="System Owner" src="../../img/geo_nodes_hair/hair_system_holder.jpeg" /></p>
<p><strong>Hair System</strong> that generates hair-cards (in center above) can be assigned to:</p>
<blockquote>
<p><strong>Source/Base Mesh</strong> mesh from which strands are spawned from (often scalp mesh)<br>
<strong>Empty Mesh</strong> helper, without geometry, usually linked with Source Mesh and Guide Curve<br>
<strong>Guide Curve</strong> curve object that guides strands<br>
<strong>Empty Curve</strong> helper, without geometry, (usually linked with Source Mesh and Guide Curve)<br></p>
</blockquote>
<p>Hair system transfer possibilities:</p>
<table>
<thead>
<tr>
<th>Current Owner</th>
<th>Transfer To</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>Guide Curve</td>
<td>Base Mesh</td>
<td>Hair System will be moved to Base Mesh Surface (usually scalp)</td>
</tr>
<tr>
<td>Guide Curve</td>
<td>Empty Mesh</td>
<td>Hair System will be moved to new, empty mesh object</td>
</tr>
<tr>
<td>Empty Curve</td>
<td>Base Mesh</td>
<td>Hair System will be moved to Base Mesh Surface (usually scalp)</td>
</tr>
<tr>
<td>Base Mesh</td>
<td>Guide Curve</td>
<td>Hair System will be moved to Guide Curve</td>
</tr>
<tr>
<td>Base Mesh</td>
<td>Empty Curve</td>
<td>Hair System will be moved to Empty Curve Hair object</td>
</tr>
<tr>
<td>Base Mesh</td>
<td>Empty Mesh</td>
<td>Hair System will be moved to Empty Mesh object</td>
</tr>
<tr>
<td>Empty Mesh</td>
<td>Guide Curve</td>
<td>Hair System will be moved to Guide Curve</td>
</tr>
<tr>
<td>Empty Mesh</td>
<td>Base Mesh</td>
<td>Hair System will be moved to Base Mesh</td>
</tr>
</tbody>
</table>
<p>Visually, there should not be any noticeable difference. However, the owner of the Hair System will change<br>
User cases when you want to use Transfer Hair System:</p>
<ul>
<li>if you want to 'Bake' curves generated by Hair System to curve, but it is assigned to Mesh (meshes cannot receive curves geometry). In that case you can transfer Hair System to Empty Curve, and then bake it to it</li>
<li>if hair interpolation is broken (e.g. stops working after you select and try to sculpt Guide Curve. See note in <a href="./#hair-interpolation">Hair Interpolation</a> section</li>
</ul>
<hr />
<h3 id="general-operations">General Operations<a class="headerlink" href="#general-operations" title="Permanent link">&para;</a></h3>
<p><img alt="General Operations" src="../../img/geo_nodes_hair/hsys_menu.jpg" /></p>
<ul>
<li><strong>Remove whole Hair System</strong> - removes all Hair Systems, Setup and Profile modifiers from object</li>
<li><strong>Update Whole Hair System</strong> - updates Setup, Profile, Hair SubSystems (without deformers) nodes. All nodes are recreated from scratch, it is destructive operation and may break your Hair setup!</li>
<li><strong>Bake All SubSystems</strong> - bake curves generated by All Hair <a href="../../overview/#hair-sub-systems">sub-Systems</a> into 'real' curves geometry. This works only on hair curve type of objects (try: Ctr+Shift+H &gt; Transfer Hair System: to Empty Curve, or to Guide Curve)</li>
<li><strong>Transfer Hair System</strong> - explained <a href="./#transfer-hair-system">here</a></li>
</ul>
<hr />
<h3 id="child-parent-setup">Child - Parent setup<a class="headerlink" href="#child-parent-setup" title="Permanent link">&para;</a></h3>
<p>Linking two Hair SubSystems, with Child-Parent relation, enables capabilities such as: interpolation, clumping, curls, braids, twist and others.<br>
Use <a href="#tags">Tags</a> to link two <a href="./#sub-systems-types">Hair SubSystems</a>, establishing a parent-child relationship.</p>
<video style="width:100%" controls>
  <source src="../../img/geo_nodes_hair/parent_setup.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>In the video above, I show how to make the <FONT COLOR="RED">red</FONT> strands (called "ParentSys") the parent  (guide) for the <FONT COLOR="#DAAA00">yellow</FONT> strands (named "Child"). You can use any tag name you want. In this example, I used "RED".</em></p>
<blockquote>
<p><strong>Note</strong>: Parent Hair System has to be placed above Child System in the stack, or else Child strands won't 'see' the Parent strands</p>
</blockquote>
<h3 id="hair-interpolation">Hair Interpolation<a class="headerlink" href="#hair-interpolation" title="Permanent link">&para;</a></h3>
<p>To use hair interpolation, your hair system needs a <a href="./#child-parent-setup">parent set up</a>.<br>
You'll see the 'Use Interpolation' button appear in the settings for the first hair deformer - <a href="./#strands-generator"><strong>Strands Generator</strong></a>.</p>
<h5 id="align-to-surface-normal">Align to Surface Normal<a class="headerlink" href="#align-to-surface-normal" title="Permanent link">&para;</a></h5>
<video style="width:100%" controls>
  <source src="../../video/strand_gen_align.webm" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>Align to Surface Normal - useful for shorter hair. Do not confuse with <a href="../hair_deformers/#align-tilt">Align Tilt To Source Surface</a></em></p>
<h4 id="use-mesh-islands-splits">Use mesh Islands Splits<a class="headerlink" href="#use-mesh-islands-splits" title="Permanent link">&para;</a></h4>
<p>The <strong>Use Mesh Islands Splits</strong> option restricts child strands to follow only parent strands from the same mesh island. This feature is particularly useful for creating split hairstyles. To create a split, select an edge loop that divides the scalp in half and press 'V' to rip it. Once split, child strands will remain confined to their respective mesh islands and won't cross the divided edge.</p>
<blockquote>
<p><strong>Note</strong>: instead of splitting the edges physically, you can use the <a href="https://docs.blender.org/manual/en/latest/modeling/modifiers/generate/edge_split.html"><strong>Edges split</strong></a> modifier</p>
</blockquote>
<video style="width:100%" controls>
<source src="../../img/geo_nodes_hair/parting_by_island.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>In video above I have cut mesh in 4 parts (visualised with 4 colors). Strands won't cross islands boundaries</em></p>
<blockquote>
<p><strong>Note</strong>: For hairstyle with split, I recommend using <a href="../../hair_sculpting/#selection-by-island"><strong>Select By Island</strong></a> so that you can one click select all strands from particular island.</p>
</blockquote>
<h4 id="fixing-interpolation-1">Fixing Interpolation (1)<a class="headerlink" href="#fixing-interpolation-1" title="Permanent link">&para;</a></h4>
<p>In some cases interpolation may not work (interpolation breaks when you select Guide Curve). It can be caused by <strong>cyclic dependency</strong>:</p>
<ul>
<li><strong>Guide curve depends on your base mesh</strong> (scalp) - from which it is generated from,</li>
<li><strong>Base Mesh may depend on 'Guide Curve'</strong> - through attached Hair System and enabled interpolation to Guide Curve<br></li>
</ul>
<p>The fix is: break the cyclic dependency using <a href="./#transfer-hair-system">Transfer Hair System</a> and move Hair System to either Empty Mesh or Guide Curve.</p>
<h4 id="fixing-interpolation-2">Fixing Interpolation (2)<a class="headerlink" href="#fixing-interpolation-2" title="Permanent link">&para;</a></h4>
<p><img alt="Ugly Interpolation example" src="../../img/grid_surface/new_grid_interpolation_problem.jpeg" />
<em>Strands do not go to left/right and instead fall in the middle</em></p>
<p><img alt="Reason of ugly interpolation" src="../../img/grid_surface/ugly_grid_reason.jpeg" />
<em>The reason: imagine new strand (marked with <span style="color: green;">green</span> X above) follows two nearest <span style="color: purple;">purple</span> guides. It is causing the strand to go to the center (average of both guides)</em></p>
<p><img alt="Ugly interpolation fix" src="../../img/grid_surface/ugly_grid_fix.jpeg" />
<em>The fix: split base mesh into two islands (marked with black and white) and enable <a href="#use-mesh-islands-splits">Use mesh Islands Splits</a> option. Now new strand will follow guides from one side (white or black) - resulting in clean interpolation on right</em></p>
<h3 id="hair-sub-system-menu">Hair sub-System menu<a class="headerlink" href="#hair-sub-system-menu" title="Permanent link">&para;</a></h3>
<p><img alt="Sub-Systems Menu" src="../../img/geo_nodes_hair/hsys_operations.jpeg" /></p>
<p><em>You can copy settings from any hair system, and paste to target using entries above.</em></p>
<h4 id="bake">Bake<a class="headerlink" href="#bake" title="Permanent link">&para;</a></h4>
<p>Procedurally generated strands cannot be groomed. First convert them into 'real' geometry with 'Bake' operator. This will bake: active (and preceding) Hair sub-Systems or All Hair sub-systems into 'real' curve geometry, that can then be groomed using Blender 'Curve Sculpt' mode.</p>
<blockquote>
<p><strong>Note</strong>: Baking works only if Hair System is attached to hair curve type of objects! If not the use: Ctr+Shift+H &gt; <a href="./#transfer-hair-system">Transfer Hair System</a> &gt; to Empty Curve or to Guide Curve)</p>
</blockquote>
<video style="width:100%" controls>
<source src="../../video/bake_curves.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>Curves in video cannot be groomed, since they are generated procedurally. After baking, you can groom them without issues</em></p>
<h4 id="update-node-pack">Update Node Pack<a class="headerlink" href="#update-node-pack" title="Permanent link">&para;</a></h4>
<p>Update selected Hair Components (geometry node setup) to its latest version, for example after updating add-on</p>
<h4 id="copypaste-hair-system">Copy/Paste Hair System<a class="headerlink" href="#copypaste-hair-system" title="Permanent link">&para;</a></h4>
<p><strong>Copy Hair System</strong> settings from: Active Hair sub-System or All sub-Systems</p>
<p><strong>Paste Hair System</strong> settings to: Active Hair sub-System or to All sub-Systems</p>
<video style="width:100%" controls>
<source src="../../video/copy_paste_all_subsystems.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
<p><em>Copying All SubSystems (and profile settings) from one object to another. Receiving object has to have at least one Hair subSystem attached. Also make sure both objects share same vertex groups, similar sharp (or crease) edges - if you copy <a href="./#strands-from-grid-surface">Curves From Grid</a> type of setup</em></p>
<h4 id="switch-hair-system-type">Switch Hair System Type<a class="headerlink" href="#switch-hair-system-type" title="Permanent link">&para;</a></h4>
<blockquote>
<p><strong>Note</strong>: Since release of Hair Tool 4.2 this option is moved to first deformer (strands generator) dropdown menu.</p>
</blockquote>
<p><strong>Switch Hair System Type</strong> - for example from Strands Generator to Strands Filter.</p>
<p><img alt="Hair System UI" src="../../img/geo_nodes_hair/make_subsystem_unique.jpeg" />
<em>Pasting Hair System settings (or instancing object that uses Hair System), will create linked copy. This means that change performed on new copy, will affect original Hair subSystem too. Number of Hair System users is displayed next to Hair Tag (green box in image above)</em></p>
<blockquote>
<p><strong>Note:</strong> You can unlink Hair System, by clicking on 'users number' (see green box above)</p>
</blockquote>
<hr />
<h3 id="tags">Tags<a class="headerlink" href="#tags" title="Permanent link">&para;</a></h3>
<p>Think of Tags as labels we apply to the strands in a Hair System. They enable us to establish <a href="./#child-parent-setup"><strong>child-parent relations</strong></a> or manipulate specific strands with <a href="./#strands-filter"><strong>strands filter</strong></a>. Why won't we use system name for that functionality? The reason is, that you can assign multiple tags to same strand e.g.:</p>
<ul>
<li>Hair System A strands Tags: <code>LONG</code> and <code>CURLY</code>.</li>
<li>Hair System B strands Tags: <code>LONG</code></li>
</ul>
<p>Now you can modify strands tagged with <code>LONG</code> label - using <a href="./#strands-filter">Strands Filter</a>, without having to create same deformers on Hair System A then B twice.</p>
<p>Tags can be also assigned to subset of strands from within Hair System with <a href="../hair_deformers/#assign-tag"><strong>Assign Tag</strong></a> deformer.</p>
<p><img alt="Hair System Tags" src="../../img/geo_nodes_hair/hair_system_Tags.jpg" />
<em>In image above we tagged 'First' Hair System <code>A</code> with label. 'Second' and 'Third' system are linked to it - which allows us to use e.g. interpolation on them. Note: Guide curves received <code>GUIDE</code> tag automatically</em></p>
<p>Tag can be assigned in few ways:</p>
<ul>
<li>by typing it in next to system name see <code>A</code> tag in image above. If system has no tag assigned then <code>[TAG]</code> label is shown</li>
<li>by using <a href="../hair_deformers/#assign-tag"><strong>Assign Tag</strong></a> deformer</li>
<li>you can also assign tags to Hair System <strong>guide object</strong> (new Curve Hair) using <a href="./#child-parent-setup"><strong>Tags Panel</strong></a>. See Below</li>
</ul>
<h4 id="tags-panel">Tags Panel<a class="headerlink" href="#tags-panel" title="Permanent link">&para;</a></h4>
<video style="width:100%" controls>
  <source src="../../img/geo_nodes_hair/tag_panel.webm" type="video/mp4">
Your browser does not support the video tag.
</video>

<p><em>In video above we create Tag <code>A</code>, then assign selected curves to tag <code>A</code> using Assign button</em></p>
<blockquote>
<p><strong>Note</strong>: Assigning Tags only works on new Hair Curves. To be able to select individual curves, like in video above, you have to use <a href="../../hair_modeling/"><strong>Hair Modeling mode</strong></a>. For now only selection works from all the available Modeling Tools</p>
</blockquote>
<hr />
<h3 id="updating">Updating<a class="headerlink" href="#updating" title="Permanent link">&para;</a></h3>
<p>After updating Hair Tool add-on, you may need to update your Hair Setup:</p>
<ul>
<li>There is option to update Individual Hair System elements (Deformers, Masks, Profiles etc.) - located in Deformers dropdown menu</li>
<li>Setup and Profile node (green and blue box on image below)</li>
<li><strong>Update Whole Hair System</strong> located in <a href="./#general-operations">General Menu</a> - this will update all nodes, in all Hair Systems for all objects on scene. Be warned though: add-on will try to recreate whole node tree structure from scratch, so this may now always work.</li>
</ul>
<p><img alt="Updating Hair System Nodes" src="../../img/geo_nodes_hair/update_nodes_hsys.jpeg" />
<em>You may update deformer, profile, mask etc. nodes using menu above</em></p>
<blockquote>
<p><strong>Note</strong>:: Using individual node packs update (only Deformers, or only Masks etc.) method is usually safer.</p>
</blockquote>
<hr />
<h3 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permanent link">&para;</a></h3>
<ul>
<li><s>Only One UV box can be assigned to profile - you can use <a href="../../hair_profiles/#mesh-profile"><strong>Mesh Profile</strong></a> with multiple meshes as a workaround for randomizing UVs</s> (No longer the case Since HT 2.44)</li>
<li>Hair Modeling Tools do not work (except selection)</li>
<li><s>Hair interpolation is using booleans under the hood. Because of this, interpolation may fail if boolean fails. And Interpolation may be slow on heavy base meshes (I recommend using lowpoly hair surface meshes). Hopefully I will find better way in the future, to create interpolations.</s> (No longer the case since Blender 3.5 and Hair Tool 2.44)</li>
</ul>
<hr />
<h3 id="faq">FAQ<a class="headerlink" href="#faq" title="Permanent link">&para;</a></h3>
<h4 id="i-get-errors-in-console">I get Errors in console<a class="headerlink" href="#i-get-errors-in-console" title="Permanent link">&para;</a></h4>
<p>If you open old blend file with old Hair Tool setup, after you updated Hair Tool, you may get some errors, and UI wont be drawn correctly. Use <strong>Update Whole Hair System</strong> located in <a href="./#general-operations">General Menu</a> - this will update all nodes, in all Hair Systems for all objects on scene</p>
<blockquote>
<p><strong>Warning</strong> this is potentially destructive operation, since whole node tree will be recreated from scratch. Updated nodes behavior may change, resulting in slightly different hair look</p>
</blockquote>
<h4 id="hair-interpolation-wont-work">Hair Interpolation won't work<a class="headerlink" href="#hair-interpolation-wont-work" title="Permanent link">&para;</a></h4>
<p>In some cases interpolation may behave erratically (e.g interpolation breaks when you select Guide Curve). The most likely cause is - <strong>cyclic dependency</strong> between Base Mesh with attached Hair System and Guide Curve.
See note in <a href="./#hair-interpolation">Hair Interpolation</a> section.<br>
To <strong>fix the cyclic dependency</strong> use <a href="./#transfer-hair-system">Transfer Hair System</a> and move Hair System to either: Empty Mesh or Guide Curve.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../overview/" class="btn btn-neutral float-left" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../hair_deformers/" class="btn btn-neutral float-right" title="Hair Deformers">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../overview/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../hair_deformers/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
